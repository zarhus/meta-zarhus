Upstream-Status: Pending

From 7202a298e0036c854a6a4f13a4cc89dcb0564d3e Mon Sep 17 00:00:00 2001
From: Maciej Pijanowski <maciej.pijanowski@3mdeb.com>
Date: Mon, 12 Aug 2024 00:05:01 +0200
Subject: [PATCH] rk356x.dtsi: reserve optee memory

Signed-off-by: Maciej Pijanowski <maciej.pijanowski@3mdeb.com>
---
 arch/arm64/boot/dts/rockchip/rk356x.dtsi | 10 ++++++++++
 1 file changed, 10 insertions(+)

diff --git a/arch/arm64/boot/dts/rockchip/rk356x.dtsi b/arch/arm64/boot/dts/rockchip/rk356x.dtsi
index 820c98dbccc0..5658a743024b 100644
--- a/arch/arm64/boot/dts/rockchip/rk356x.dtsi
+++ b/arch/arm64/boot/dts/rockchip/rk356x.dtsi
@@ -45,6 +45,16 @@ aliases {
 		spi3 = &spi3;
 	};
 
+	reserved-memory {
+		#address-cells = <2>;
+		#size-cells = <2>;
+		ranges;
+
+		optee@840000 {
+			reg = <0x0 0x08400000 0x0 0x01000000>;
+                       no-map;
+		};
+	};
+
 	cpus {
 		#address-cells = <2>;
 		#size-cells = <0>;
-- 
2.46.0

